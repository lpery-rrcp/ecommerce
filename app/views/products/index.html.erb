<h1>All Products</h1>

<%= search_from_for @q, url: products_path, method: :get do |f| %>
  <%= f.label :name_cont, 'Search products:' %>
  <%= f.search_field :name_or_description_cont %>

  <%= f.label :category_id_eq, 'Filter by Category:' %>
  <%= f.select :category_id_eq, Category.all.collect { |c| [c.name, c.id] }, include_blank: "All" %>

  <%= f.submit 'Search' %>
<%= end %>

<%= render partial: 'product', collection: @products %>
<%= paginate @products %>